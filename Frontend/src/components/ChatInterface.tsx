import React, { useState, useRef, useEffect } from 'react';
import { Button } from './ui/button';
import { Input } from './ui/input';
import { Card } from './ui/card';
import { Badge } from './ui/badge';
import { Send, Mic, Heart, Smile, Frown, Zap } from 'lucide-react';

interface Message {
  id: string;
  text: string;
  sender: 'user' | 'bestu';
  timestamp: Date;
  mood?: 'happy' | 'sad' | 'stressed' | 'excited' | 'neutral';
}

interface ChatInterfaceProps {
  language: string;
  currentMood: string;
  onMoodChange: (mood: string) => void;
}

const moodResponses = {
  en: {
    happy: [
      "That's awesome! I'm so happy for you! ЁЯОЙ",
      "Your happiness is contagious! Keep spreading those good vibes! тЬи",
      "I love seeing you this excited! Let's make the most of this energy!"
    ],
    sad: [
      "I'm here for you, bestu. It's okay to feel sad sometimes. ЁЯТЩ",
      "Take a deep breath with me. You're stronger than you know. ЁЯМ╕",
      "Remember, after every storm comes a rainbow. I believe in you! ЁЯМИ"
    ],
    stressed: [
      "Let's take a moment to breathe together. Inhale... exhale... ЁЯлз",
      "You've got this! One step at a time, we'll figure it out together. ЁЯТк",
      "Stress is temporary, but your strength is permanent. I'm here to help! ЁЯМ┐"
    ],
    excited: [
      "Your energy is amazing! Let's channel this into something productive! тЪб",
      "I love your enthusiasm! What exciting things are we working on today? ЁЯЪА",
      "This positive energy is exactly what we need! Let's conquer the day! ЁЯФе"
    ]
  },
  hi: {
    happy: [
      "рд╡рд╛рд╣! рдореИрдВ рдЖрдкрдХреЗ рд▓рд┐рдП рдмрд╣реБрдд рдЦреБрд╢ рд╣реВрдВ! ЁЯОЙ",
      "рдЖрдкрдХреА рдЦреБрд╢реА рд╕рдВрдХреНрд░рд╛рдордХ рд╣реИ! рдЗрди рдЕрдЪреНрдЫреЗ рд╡рд┐рдЪрд╛рд░реЛрдВ рдХреЛ рдлреИрд▓рд╛рддреЗ рд░рд╣реЗрдВ! тЬи",
      "рдореБрдЭреЗ рдЖрдкрдХреЛ рдЗрддрдирд╛ рдЙрддреНрд╕рд╛рд╣рд┐рдд рджреЗрдЦрдирд╛ рдЕрдЪреНрдЫрд╛ рд▓рдЧрддрд╛ рд╣реИ! рдЖрдЗрдП рдЗрд╕ рдКрд░реНрдЬрд╛ рдХрд╛ рд╕рджреБрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ!"
    ],
    sad: [
      "рдореИрдВ рдЖрдкрдХреЗ рд╕рд╛рде рд╣реВрдВ рджреЛрд╕реНрддред рдХрднреА-рдХрднреА рдЙрджрд╛рд╕ рд╣реЛрдирд╛ рдареАрдХ рд╣реИред ЁЯТЩ",
      "рдореЗрд░реЗ рд╕рд╛рде рдЧрд╣рд░реА рд╕рд╛рдВрд╕ рд▓реЗрдВред рдЖрдк рдЬрд┐рддрдирд╛ рд╕реЛрдЪрддреЗ рд╣реИрдВ рдЙрд╕рд╕реЗ рдХрд╣реАрдВ рдЬреНрдпрд╛рджрд╛ рдордЬрдмреВрдд рд╣реИрдВред ЁЯМ╕",
      "рдпрд╛рдж рд░рдЦреЗрдВ, рд╣рд░ рддреВрдлрд╛рди рдХреЗ рдмрд╛рдж рдЗрдВрджреНрд░рдзрдиреБрд╖ рдЖрддрд╛ рд╣реИред рдореБрдЭреЗ рдЖрдк рдкрд░ рднрд░реЛрд╕рд╛ рд╣реИ! ЁЯМИ"
    ],
    stressed: [
      "рдЖрдЗрдП рдПрдХ рд╕рд╛рде рд╕рд╛рдВрд╕ рд▓реЗрддреЗ рд╣реИрдВред рд╕рд╛рдВрд╕ рдЕрдВрджрд░... рд╕рд╛рдВрд╕ рдмрд╛рд╣рд░... ЁЯлз",
      "рдЖрдк рдпрд╣ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ! рдПрдХ-рдПрдХ рдХрджрдо рдХрд░рдХреЗ, рд╣рдо рдорд┐рд▓рдХрд░ рдЗрд╕реЗ рд╣рд▓ рдХрд░реЗрдВрдЧреЗред ЁЯТк",
      "рддрдирд╛рд╡ рдЕрд╕реНрдерд╛рдпреА рд╣реИ, рд▓реЗрдХрд┐рди рдЖрдкрдХреА рд╢рдХреНрддрд┐ рд╕реНрдерд╛рдпреА рд╣реИред рдореИрдВ рдорджрдж рдХреЗ рд▓рд┐рдП рдпрд╣рд╛рдВ рд╣реВрдВ! ЁЯМ┐"
    ],
    excited: [
      "рдЖрдкрдХреА рдКрд░реНрдЬрд╛ рдЕрджреНрднреБрдд рд╣реИ! рдЖрдЗрдП рдЗрд╕реЗ рдХрд┐рд╕реА рдЙрддреНрдкрд╛рджрдХ рдХрд╛рдо рдореЗрдВ рд▓рдЧрд╛рдПрдВ! тЪб",
      "рдореБрдЭреЗ рдЖрдкрдХрд╛ рдЙрддреНрд╕рд╛рд╣ рдкрд╕рдВрдж рд╣реИ! рдЖрдЬ рд╣рдо рдХрд┐рд╕ рд░реЛрдорд╛рдВрдЪрдХ рдЪреАрдЬрд╝ рдкрд░ рдХрд╛рдо рдХрд░ рд░рд╣реЗ рд╣реИрдВ? ЁЯЪА",
      "рдпрд╣ рд╕рдХрд╛рд░рд╛рддреНрдордХ рдКрд░реНрдЬрд╛ рд╡рд╣реА рд╣реИ рдЬрд┐рд╕рдХреА рд╣рдореЗрдВ рдЬрд░реВрд░рдд рд╣реИ! рдЖрдЗрдП рджрд┐рди рдХреЛ рдЬреАрддрддреЗ рд╣реИрдВ! ЁЯФе"
    ]
  },
  mr: {
    happy: [
      "рд╡рд╛рд╣! рдореА рддреБрдЭреНрдпрд╛рд╕рд╛рдареА рдЦреВрдк рдЖрдирдВрджреА рдЖрд╣реЗ! ЁЯОЙ",
      "рддреБрдЭрд╛ рдЖрдирдВрдж рд╕рдВрд╕рд░реНрдЧрдЬрдиреНрдп рдЖрд╣реЗ! рд╣реЗ рдЪрд╛рдВрдЧрд▓реЗ рд╡рд┐рдЪрд╛рд░ рдкрд╕рд░рд╡рдд рд░рд╛рд╣рд╛! тЬи",
      "рддреБрд▓рд╛ рдЗрддрдХрд╛ рдЙрддреНрд╕рд╛рд╣рд┐рдд рдмрдШреВрди рдорд▓рд╛ рдЫрд╛рди рд╡рд╛рдЯрддреЗ! рдпрд╛ рдКрд░реНрдЬреЗрдЪрд╛ рд╕рджреБрдкрдпреЛрдЧ рдХрд░реВрдпрд╛!"
    ],
    sad: [
      "рдореА рддреБрдЭреНрдпрд╛рд╕реЛрдмрдд рдЖрд╣реЗ рдорд┐рддреНрд░рд╛ред рдХрдзреА рдХрдзреА рджреБрдГрдЦреА рд╣реЛрдгреЗ рд╕рд╛рдорд╛рдиреНрдп рдЖрд╣реЗред ЁЯТЩ",
      "рдорд╛рдЭреНрдпрд╛рд╕реЛрдмрдд рджреАрд░реНрдШ рд╢реНрд╡рд╛рд╕ рдШреЗред рддреВ рдЬрд┐рддрдХрд╛ рд╡рд┐рдЪрд╛рд░ рдХрд░рддреЛрд╕ рддреНрдпрд╛рдкреЗрдХреНрд╖рд╛ рдЬрд╛рд╕реНрдд рдордЬрдмреВрдд рдЖрд╣реЗрд╕ред ЁЯМ╕",
      "рд▓рдХреНрд╖рд╛рдд рдареЗрд╡, рдкреНрд░рддреНрдпреЗрдХ рд╡рд╛рджрд│рд╛рдирдВрддрд░ рдЗрдВрджреНрд░рдзрдиреБрд╖реНрдп рдпреЗрддреЗред рдорд╛рдЭрд╛ рддреБрдЭреНрдпрд╛рд╡рд░ рд╡рд┐рд╢реНрд╡рд╛рд╕ рдЖрд╣реЗ! ЁЯМИ"
    ],
    stressed: [
      "рдЪрд▓рд╛ рдПрдХрддреНрд░ рд╢реНрд╡рд╛рд╕ рдШреЗрдКрдпрд╛ред рд╢реНрд╡рд╛рд╕ рдЖрдд... рд╢реНрд╡рд╛рд╕ рдмрд╛рд╣реЗрд░... ЁЯлз",
      "рддреВ рд╣реЗ рдХрд░реВ рд╢рдХрддреЛрд╕! рдПрдХ рдПрдХ рдкрд╛рдКрд▓ рдЯрд╛рдХреВрди, рдЖрдкрдг рдорд┐рд│реВрди рд╣реЗ рд╕реЛрдбрд╡реВред ЁЯТк",
      "рддрдгрд╛рд╡ рддрд╛рддреНрдкреБрд░рддрд╛ рдЖрд╣реЗ, рдкрдг рддреБрдЭреА рд╢рдХреНрддреА рдХрд╛рдпрдордЪреА рдЖрд╣реЗред рдореА рдорджрддреАрд╕рд╛рдареА рдЗрдереЗ рдЖрд╣реЗ! ЁЯМ┐"
    ],
    excited: [
      "рддреБрдЭреА рдЙрд░реНрдЬрд╛ рдЕрдкреНрд░рддрд┐рдо рдЖрд╣реЗ! рдЪрд▓рд╛ рдпрд╛рдЪрд╛ рдЙрдкрдпреЛрдЧ рдХрд╛рд╣реА рдЙрддреНрдкрд╛рджрдХ рдХрд╛рдорд╛рдд рдХрд░реВрдпрд╛! тЪб",
      "рдорд▓рд╛ рддреБрдЭрд╛ рдЙрддреНрд╕рд╛рд╣ рдЖрд╡рдбрддреЛ! рдЖрдЬ рдЖрдкрдг рдХреЛрдгрддреНрдпрд╛ рд░реЛрдорд╛рдВрдЪрдХ рдЧреЛрд╖реНрдЯреАрд╡рд░ рдХрд╛рдо рдХрд░рдд рдЖрд╣реЛрдд? ЁЯЪА",
      "рд╣реА рд╕рдХрд╛рд░рд╛рддреНрдордХ рдКрд░реНрдЬрд╛ рдЖрдореНрд╣рд╛рд▓рд╛ рд╣рд╡реА рдЖрд╣реЗ! рдЪрд▓рд╛ рджрд┐рд╡рд╕ рдЬрд┐рдВрдХреВрдпрд╛! ЁЯФе"
    ]
  },
  bn: {
    happy: [
      "ржжрж╛рж░рзБржг! ржЖржорж┐ ржЖржкржирж╛рж░ ржЬржирзНржп ржЦрзБржм ржЦрзБрж╢рж┐! ЁЯОЙ",
      "ржЖржкржирж╛рж░ ржЦрзБрж╢рж┐ рж╕ржВржХрзНрж░рж╛ржоржХ! ржПржЗ ржнрж╛рж▓рзЛ ржЕржирзБржнрзВрждрж┐ ржЫржбрж╝рж┐ржпрж╝рзЗ ржжрж┐ржи! тЬи",
      "ржЖржкржирж╛ржХрзЗ ржПржд ржЙрждрзНрж╕рж╛рж╣рзА ржжрзЗржЦрзЗ ржЖржорж╛рж░ ржнрж╛рж▓рзЛ рж▓рж╛ржЧржЫрзЗ! ржПржЗ рж╢ржХрзНрждрж┐рж░ рж╕ржжрзНржмрзНржпржмрж╣рж╛рж░ ржХрж░рж┐!"
    ],
    sad: [
      "ржЖржорж┐ ржЖржкржирж╛рж░ рж╕рж╛ржерзЗ ржЖржЫрж┐ ржмржирзНржзрзБред ржХржЦржирзЛ ржХржЦржирзЛ ржжрзБржГржЦ рж╣ржУржпрж╝рж╛ рж╕рзНржмрж╛ржнрж╛ржмрж┐ржХред ЁЯТЩ",
      "ржЖржорж╛рж░ рж╕рж╛ржерзЗ ржЧржнрзАрж░ ржирж┐ржГрж╢рзНржмрж╛рж╕ ржирж┐ржиред ржЖржкржирж┐ ржпрждржЯрж╛ ржнрж╛ржмрзЗржи рждрж╛рж░ ржЪрзЗржпрж╝рзЗ ржмрзЗрж╢рж┐ рж╢ржХрзНрждрж┐рж╢рж╛рж▓рзАред ЁЯМ╕",
      "ржоржирзЗ рж░рж╛ржЦржмрзЗржи, ржкрзНрж░рждрж┐ржЯрж┐ ржЭржбрж╝рзЗрж░ ржкрж░ рж░ржВржзржирзБ ржЖрж╕рзЗред ржЖржорж┐ ржЖржкржирж╛рж░ ржЙржкрж░ ржмрж┐рж╢рзНржмрж╛рж╕ рж░рж╛ржЦрж┐! ЁЯМИ"
    ],
    stressed: [
      "ржЪрж▓рзБржи ржПржХрж╕рж╛ржерзЗ рж╢рзНржмрж╛рж╕ ржирж┐ржЗред рж╢рзНржмрж╛рж╕ ржирж┐ржи... ржЫрж╛ржбрж╝рзБржи... ЁЯлз",
      "ржЖржкржирж┐ ржкрж╛рж░ржмрзЗржи! ржПржХржЯрж┐ ржПржХржЯрж┐ ржХрж░рзЗ ржкржжржХрзНрж╖рзЗржк, ржЖржорж░рж╛ ржПржХрж╕рж╛ржерзЗ ржПржЯрж╛ рж╕ржорж╛ржзрж╛ржи ржХрж░ржмред ЁЯТк",
      "ржЪрж╛ржк ржЕрж╕рзНржерж╛ржпрж╝рзА, ржХрж┐ржирзНрждрзБ ржЖржкржирж╛рж░ рж╢ржХрзНрждрж┐ рж╕рзНржерж╛ржпрж╝рзАред ржЖржорж┐ рж╕рж╛рж╣рж╛ржпрзНржпрзЗрж░ ржЬржирзНржп ржПржЦрж╛ржирзЗ! ЁЯМ┐"
    ],
    excited: [
      "ржЖржкржирж╛рж░ рж╢ржХрзНрждрж┐ ржЕрж╕рж╛ржзрж╛рж░ржг! ржЪрж▓рзБржи ржПржЯрж╛ржХрзЗ ржХрзЛржирзЛ ржЙрзОржкрж╛ржжржирж╢рзАрж▓ ржХрж╛ржЬрзЗ рж▓рж╛ржЧрж╛ржЗ! тЪб",
      "ржЖржкржирж╛рж░ ржЙрзОрж╕рж╛рж╣ ржЖржорж╛рж░ ржкржЫржирзНржж! ржЖржЬ ржЖржорж░рж╛ ржХрзА рж░рзЛржорж╛ржЮрзНржЪржХрж░ ржХрж╛ржЬ ржХрж░ржЫрж┐? ЁЯЪА",
      "ржПржЗ ржЗрждрж┐ржмрж╛ржЪржХ рж╢ржХрзНрждрж┐ржЗ ржЖржорж╛ржжрзЗрж░ ржжрж░ржХрж╛рж░! ржЪрж▓рзБржи ржжрж┐ржиржЯрж╛ ржЬрж┐рждрзЗ ржирж┐ржЗ! ЁЯФе"
    ]
  },
  ta: {
    happy: [
      "роЕро▒рпНрокрпБродроорпН! роЙроЩрпНроХро│рпБроХрпНроХро╛роХ роиро╛ройрпН рооро┐роХро╡рпБроорпН роороХро┐ро┤рпНроЪрпНроЪро┐! ЁЯОЙ",
      "роЙроЩрпНроХро│рпН роороХро┐ро┤рпНроЪрпНроЪро┐ родрпКро▒рпНро▒роХрпНроХрпВроЯро┐ропродрпБ! роЗроирпНрод роиро▓рпНро▓ роЙрогро░рпНро╡рпБроХро│рпИ родрпКроЯро░рпНроирпНродрпБ рокро░рокрпНрокрпБроЩрпНроХро│рпН! тЬи",
      "роЙроЩрпНроХро│рпИ роЗро╡рпНро╡ро│ро╡рпБ роЙро▒рпНроЪро╛роХрооро╛роХ рокро╛ро░рпНрокрпНрокродрпБ роОройроХрпНроХрпБ рокро┐роЯро┐роХрпНроХро┐ро▒родрпБ! роЗроирпНрод роЖро▒рпНро▒ро▓рпИ роЪро┐ро▒рокрпНрокро╛роХ рокропройрпНрокроЯрпБродрпНродрпБро╡рпЛроорпН!"
    ],
    sad: [
      "роиро╛ройрпН роЙроЩрпНроХро│рпБроЯройрпН роЗро░рпБроХрпНроХро┐ро▒рпЗройрпН роирогрпНрокро░рпЗред роЪро┐ро▓ роирпЗро░роЩрпНроХро│ро┐ро▓рпН роЪрпЛроХрооро╛роХ роЗро░рпБрокрпНрокродрпБ роЪро░ро┐ропрпЗред ЁЯТЩ",
      "роОройрпНройрпБроЯройрпН роЖро┤рооро╛роХ роорпВроЪрпНроЪрпБ ро╡ро┐роЯрпБроЩрпНроХро│рпН. роирпАроЩрпНроХро│рпН роиро┐ройрпИрокрпНрокродрпИ ро╡ро┐роЯ рооро┐роХро╡рпБроорпН ро╡ро▓ро┐роорпИропро╛ройро╡ро░рпН. ЁЯМ╕",
      "роиро┐ройрпИро╡ро┐ро▓рпН роХрпКро│рпНро│рпБроЩрпНроХро│рпН, роТро╡рпНро╡рпКро░рпБ рокрпБропро▓рпБроХрпНроХрпБроорпН рокро┐ро▒роХрпБ ро╡ро╛ройро╡ро┐ро▓рпН ро╡ро░рпБроорпН. роЙроЩрпНроХро│рпН роорпАродрпБ роОройроХрпНроХрпБ роироорпНрокро┐роХрпНроХрпИ! ЁЯМИ"
    ],
    stressed: [
      "роТройрпНро▒ро╛роХ роЪрпБро╡ро╛роЪро┐рокрпНрокрпЛроорпН. роорпВроЪрпНроЪрпБ роЙро│рпНро│рпЗ... ро╡рпЖро│ро┐ропрпЗ... ЁЯлз",
      "роЙроЩрпНроХро│ро╛ро▓рпН роорпБроЯро┐ропрпБроорпН! роТро░рпБ роЕроЯро┐ роОроЯрпБродрпНродрпБ ро╡рпИродрпНродрпБ, роиро╛роорпН роЗрогрпИроирпНродрпБ роЗродрпИ родрпАро░рпНрокрпНрокрпЛроорпН. ЁЯТк",
      "роорой роЕро┤рпБродрпНродроорпН родро▒рпНроХро╛ро▓ро┐роХроорпН, роЖройро╛ро▓рпН роЙроЩрпНроХро│рпН ро╡ро▓ро┐роорпИ роиро┐ро░роирпНродро░роорпН. роиро╛ройрпН роЙродро╡ роЗроЩрпНроХрпЗ роЗро░рпБроХрпНроХро┐ро▒рпЗройрпН! ЁЯМ┐"
    ],
    excited: [
      "роЙроЩрпНроХро│рпН роЖро▒рпНро▒ро▓рпН роЕро▒рпНрокрпБродроорпН! роЗродрпИ роПродро╛ро╡родрпБ рокропройрпБро│рпНро│ ро╡рпЗро▓рпИропро┐ро▓рпН роЪрпЖро▓рпБродрпНродрпБро╡рпЛроорпН! тЪб",
      "роЙроЩрпНроХро│рпН роЙро▒рпНроЪро╛роХроорпН роОройроХрпНроХрпБ рокро┐роЯро┐роХрпНроХро┐ро▒родрпБ! роЗройрпНро▒рпБ роиро╛роорпН роОройрпНрой роЕро▒рпНрокрпБродрооро╛рой ро╡рпЗро▓рпИ роЪрпЖропрпНроХро┐ро▒рпЛроорпН? ЁЯЪА",
      "роЗроирпНрод роирпЗро░рпНрооро▒рпИ роЖро▒рпНро▒ро▓рпН родро╛ройрпН роироороХрпНроХрпБ родрпЗро╡рпИ! роиро╛ро│рпИ ро╡рпЖро▓рпНро╡рпЛроорпН! ЁЯФе"
    ]
  },
  te: {
    happy: [
      "р░Ер░жр▒Нр░нр▒Бр░др░В! р░ор▒А р░Хр▒Лр░╕р░В р░ир▒Зр░ир▒Б р░Ър░╛р░▓р░╛ р░╕р░Вр░др▒Лр░╖р░Вр░Чр░╛ р░Йр░ир▒Нр░ир░╛р░ир▒Б! ЁЯОЙ",
      "р░ор▒А р░Жр░ир░Вр░жр░В р░Ер░Вр░Яр▒Бр░Хр▒Бр░Вр░Яр▒Бр░Вр░жр░┐! р░И р░ор░Вр░Ър░┐ р░нр░╛р░╡р░╛р░▓р░ир▒Б р░╡р▒Нр░пр░╛р░кр▒Нр░др░┐ р░Ър▒Зр░пр░Вр░бр░┐! тЬи",
      "р░ор░┐р░ор▒Нр░ор░▓р▒Нр░ир░┐ р░Зр░Вр░д р░Йр░др▒Нр░╕р░╛р░╣р░Вр░Чр░╛ р░Ър▒Вр░бр░Яр░В р░ир░╛р░Хр▒Б р░Ър░╛р░▓р░╛ р░Зр░╖р▒Нр░Яр░В! р░И р░╢р░Хр▒Нр░др░┐р░ир░┐ р░мр░╛р░Чр░╛ р░╡р░┐р░ир░┐р░пр▒Лр░Чр░┐р░Вр░Ър▒Бр░Хр▒Бр░Вр░жр░╛р░В!"
    ],
    sad: [
      "р░ир▒Зр░ир▒Б р░ор▒Ар░др▒Л р░Йр░ир▒Нр░ир░╛р░ир▒Б р░ор░┐р░др▒Нр░░р░ор░╛. р░Хр▒Кр░ир▒Нр░ир░┐ р░╕р░╛р░░р▒Нр░▓р▒Б р░жр▒Бр░Гр░Цр░В р░Ер░ир▒Бр░нр░╡р░┐р░Вр░Ър░бр░В р░╕р░░р░┐р░пр▒Зред ЁЯТЩ",
      "р░ир░╛р░др▒Л р░Хр░▓р░┐р░╕р░┐ р░▓р▒Лр░др▒Бр░Чр░╛ р░Кр░кр░┐р░░р░┐ р░др▒Ар░╕р▒Бр░Хр▒Лр░Вр░бр░┐. р░ор▒Ар░░р▒Б р░Ер░ир▒Бр░Хр▒Бр░ир▒Нр░ир░жр░╛р░ир░┐р░Хр░Вр░Яр▒З р░Ър░╛р░▓р░╛ р░мр░▓р░╡р░Вр░др▒Бр░▓р▒Б. ЁЯМ╕",
      "р░Чр▒Бр░░р▒Нр░др▒Бр░Вр░Ър▒Бр░Хр▒Лр░Вр░бр░┐, р░кр▒Нр░░р░др░┐ р░др▒Бр░лр░╛р░ир▒Б р░др░░р▒Нр░╡р░╛р░д р░Зр░Вр░жр▒Нр░░р░зр░ир▒Бр░╕р▒Нр░╕р▒Б р░╡р░╕р▒Нр░др▒Бр░Вр░жр░┐. р░ор▒Ар░кр▒И р░ир░╛р░Хр▒Б р░ир░ор▒Нр░ор░Хр░В! ЁЯМИ"
    ],
    stressed: [
      "р░Хр░▓р░┐р░╕р░┐ р░Кр░кр░┐р░░р░┐ р░кр▒Ар░▓р▒Нр░Ър▒Бр░Хр▒Бр░Вр░жр░╛р░В. р░Кр░кр░┐р░░р░┐ р░▓р▒Лр░кр░▓р░┐р░Хр░┐... р░мр░пр░Яр░Хр▒Б... ЁЯлз",
      "р░ор▒Ар░░р▒Б р░Ър▒Зр░пр░Чр░▓р░░р▒Б! р░Тр░Хр▒Нр░Хр▒Л р░Ер░бр▒Бр░Чр▒Б р░╡р▒Зр░╕р▒Нр░др▒В, р░ор░ир░В р░Хр░▓р░┐р░╕р░┐ р░жр▒Ар░ир▒Нр░ир░┐ р░кр░░р░┐р░╖р▒Нр░Хр░░р░┐р░╕р▒Нр░др░╛р░Вред ЁЯТк",
      "р░Тр░др▒Нр░др░┐р░бр░┐ р░др░╛р░др▒Нр░Хр░╛р░▓р░┐р░Хр░В, р░Хр░╛р░ир▒А р░ор▒А р░мр░▓р░В р░╢р░╛р░╢р▒Нр░╡р░др░В. р░ир▒Зр░ир▒Б р░╕р░╣р░╛р░пр░╛р░ир░┐р░Хр░┐ р░Зр░Хр▒Нр░Хр░б р░Йр░ир▒Нр░ир░╛р░ир▒Б! ЁЯМ┐"
    ],
    excited: [
      "р░ор▒А р░╢р░Хр▒Нр░др░┐ р░Ер░жр▒Нр░нр▒Бр░др░В! р░жр▒Ар░ир▒Нр░ир░┐ р░Пр░жр▒Ир░ир░╛ р░Йр░др▒Нр░кр░╛р░жр░Х р░кр░ир░┐р░▓р▒Л р░╡р░┐р░ир░┐р░пр▒Лр░Чр░┐р░Вр░Ър▒Бр░Хр▒Бр░Вр░жр░╛р░В! тЪб",
      "р░ор▒А р░Йр░др▒Нр░╕р░╛р░╣р░В р░ир░╛р░Хр▒Б р░ир░Ър▒Нр░Ър▒Бр░др▒Бр░Вр░жр░┐! р░Ир░░р▒Лр░Ьр▒Б р░ор░ир░В р░П р░Жр░╕р░Хр▒Нр░др░┐р░Хр░░р░ор▒Ир░и р░кр░ир░┐р░кр▒И р░кр░ир░┐р░Ър▒Зр░╕р▒Нр░др▒Бр░ир▒Нр░ир░╛р░В? ЁЯЪА",
      "р░И р░╕р░╛р░ир▒Бр░Хр▒Вр░▓ р░╢р░Хр▒Нр░др░┐ р░ор░ир░Хр▒Б р░Ер░╡р░╕р░░р░В! р░░р▒Лр░Ьр▒Бр░ир▒Б р░Чр▒Жр░▓р▒Бр░Ър▒Бр░Хр▒Бр░Вр░жр░╛р░В! ЁЯФе"
    ]
  },
  gu: {
    happy: [
      "рк╡рк╛рк╣! рк╣рлБркВ ркдркорк╛рк░рк╛ ркорк╛ркЯрлЗ ркЦрлВркм ркЬ ркЦрлБрк╢ ркЫрлБркВ! ЁЯОЙ",
      "ркдркорк╛рк░рлЛ ркЖркиркВркж ркЪрлЗрккрлА ркЫрлЗ! ркЖ рк╕рк╛рк░рлА рк▓рк╛ркЧркгрлАркУ рклрлЗрк▓рк╛рк╡ркдрк╛ рк░рк╣рлЛ! тЬи",
      "ркдркоркирлЗ ркЖркЯрк▓рк╛ ркЙркдрлНрк╕рк╛рк╣рк┐ркд ркЬрлЛрк╡рк╛ркирлБркВ ркоркирлЗ ркЧркорлЗ ркЫрлЗ! ркЖ ркКрк░рлНркЬрк╛ркирлЛ рк╢рлНрк░рлЗрк╖рлНрка ркЙрккркпрлЛркЧ ркХрк░рлАркП!"
    ],
    sad: [
      "рк╣рлБркВ ркдркорк╛рк░рлА рк╕рк╛ркерлЗ ркЫрлБркВ ркорк┐ркдрлНрк░. ркХрлЗркЯрк▓рлАркХрк╡рк╛рк░ ркЙркжрк╛рк╕ ркерк╡рлБркВ ркП рк╕рк╛ркорк╛ркирлНркп ркЫрлЗ. ЁЯТЩ",
      "ркорк╛рк░рлА рк╕рк╛ркерлЗ ркКркВркбрк╛ рк╢рлНрк╡рк╛рк╕ рк▓рлЛ. ркдркорлЗ рк╡рк┐ркЪрк╛рк░рлЛ ркЫрлЛ ркдрлЗркирк╛ ркХрк░ркдрк╛ркВ рк╡ркзрлБ ркоркЬркмрлВркд ркЫрлЛ. ЁЯМ╕",
      "ркпрк╛ркж рк░рк╛ркЦрлЛ, ркжрк░рлЗркХ ркдрлЛрклрк╛рки рккркЫрлА ркорлЗркШркзркирлБрк╖ ркЖрк╡рлЗ ркЫрлЗ. ркоркирлЗ ркдркорк╛рк░рк╛ рккрк░ рк╡рк┐рк╢рлНрк╡рк╛рк╕ ркЫрлЗ! ЁЯМИ"
    ],
    stressed: [
      "ркЪрк╛рк▓рлЛ рк╕рк╛ркерлЗ рк╢рлНрк╡рк╛рк╕ рк▓ркИркП. рк╢рлНрк╡рк╛рк╕ ркЕркВркжрк░... ркмрк╣рк╛рк░... ЁЯлз",
      "ркдркорлЗ ркХрк░рлА рк╢ркХрлЛ ркЫрлЛ! ркПркХ рккркЧрк▓рлБркВ рккркЫрлА ркмрлАркЬрлБркВ, ркЖрккркгрлЗ рк╕рк╛ркерлЗ ркорк│рлАркирлЗ ркЖ ркЙркХрлЗрк▓рлАрк╢рлБркВ. ЁЯТк",
      "ркдркгрк╛рк╡ ркХрк╛ркоркЪрк▓рк╛ркЙ ркЫрлЗ, рккрк░ркВркдрлБ ркдркорк╛рк░рлА рк╢ркХрлНркдрк┐ ркХрк╛ркпркорлА ркЫрлЗ. рк╣рлБркВ ркоркжркж ркорк╛ркЯрлЗ ркЕрк╣рлАркВ ркЫрлБркВ! ЁЯМ┐"
    ],
    excited: [
      "ркдркорк╛рк░рлА ркКрк░рлНркЬрк╛ ркЕркжрлНркнрлБркд ркЫрлЗ! ркЖркирлЗ ркХрлЛркИ ркЙркдрлНрккрк╛ркжркХ ркХрк╛ркоркорк╛ркВ рк▓ркЧрк╛рк╡рлАркП! тЪб",
      "ркдркорк╛рк░рлЛ ркЙркдрлНрк╕рк╛рк╣ ркоркирлЗ ркЧркорлЗ ркЫрлЗ! ркЖркЬрлЗ ркЖрккркгрлЗ ркХркпрк╛ рк░рлЛркорк╛ркВркЪркХ ркХрк╛рко рккрк░ ркХрк╛рко ркХрк░рлА рк░рк╣рлНркпрк╛ ркЫрлАркП? ЁЯЪА",
      "ркЖ рк╕ркХрк╛рк░рк╛ркдрлНркоркХ ркКрк░рлНркЬрк╛ ркЬ ркЖрккркгркирлЗ ркЬрлЛркИркП ркЫрлЗ! ркЪрк╛рк▓рлЛ ркжрк┐рк╡рк╕ ркЬрлАркдрлАркП! ЁЯФе"
    ]
  },
  kn: {
    happy: [
      "р▓Ер▓жр│Нр▓нр│Бр▓д! р▓ир▓┐р▓ор▓Чр▓╛р▓Чр▓┐ р▓ир▓╛р▓ир│Б р▓др│Бр▓Вр▓мр▓╛ р▓╕р▓Вр▓др│Лр▓╖! ЁЯОЙ",
      "р▓ир▓┐р▓ор│Нр▓о р▓╕р▓Вр▓др│Лр▓╖ р▓Ер▓Вр▓Яр▓┐р▓Хр│Кр▓│р│Нр▓│р│Бр▓др│Нр▓др▓жр│Ж! р▓И р▓Тр▓│р│Нр▓│р│Жр▓п р▓нр▓╛р▓╡р▓ир│Жр▓Чр▓│р▓ир│Нр▓ир│Б р▓╣р▓░р▓бр│Бр▓др│Нр▓др▓▓р│З р▓Зр▓░р▓┐! тЬи",
      "р▓ир▓┐р▓ор│Нр▓ор▓ир│Нр▓ир│Б р▓Зр▓╖р│Нр▓Яр│Б р▓Йр▓др│Нр▓╕р▓╛р▓╣р▓жр▓┐р▓Вр▓ж р▓ир│Лр▓бр│Бр▓╡р│Бр▓жр│Б р▓ир▓ир▓Чр│Ж р▓Зр▓╖р│Нр▓Я! р▓И р▓╢р▓Хр│Нр▓др▓┐р▓пр▓ир│Нр▓ир│Б р▓Ър│Жр▓ир│Нр▓ир▓╛р▓Чр▓┐ р▓мр▓│р▓╕р▓┐р▓Хр│Кр▓│р│Нр▓│р│Лр▓г!"
    ],
    sad: [
      "р▓ир▓╛р▓ир│Б р▓ир▓┐р▓ор│Нр▓о р▓Ьр│Кр▓др│Ж р▓Зр▓жр│Нр▓жр│Зр▓ир│Ж р▓ор▓┐р▓др│Нр▓░. р▓Хр│Жр▓▓р▓╡р│Кр▓ор│Нр▓ор│Ж р▓жр│Бр▓Гр▓Цр▓╡р▓╛р▓Чр│Бр▓╡р│Бр▓жр│Б р▓╕р▓╛р▓ор▓╛р▓ир│Нр▓п. ЁЯТЩ",
      "р▓ир▓ир│Нр▓ир│Кр▓Вр▓жр▓┐р▓Чр│Ж р▓Жр▓│р▓╡р▓╛р▓Чр▓┐ р▓Йр▓╕р▓┐р▓░р▓╛р▓бр▓┐. р▓ир│Ар▓╡р│Б р▓пр│Лр▓Ър▓┐р▓╕р│Бр▓╡р│Бр▓жр▓Хр│Нр▓Хр▓┐р▓Вр▓д р▓╣р│Жр▓Ър│Нр▓Ър│Б р▓мр▓▓р▓╢р▓╛р▓▓р▓┐. ЁЯМ╕",
      "р▓ир│Жр▓ир▓кр▓┐р▓Яр│Нр▓Яр│Бр▓Хр│Кр▓│р│Нр▓│р▓┐, р▓кр│Нр▓░р▓др▓┐ р▓Ър▓Вр▓бр▓ор▓╛р▓░р│Бр▓др▓ж р▓ир▓Вр▓др▓░ р▓ор▓│р│Жр▓мр▓┐р▓▓р│Нр▓▓р│Б р▓мр▓░р│Бр▓др│Нр▓др▓жр│Ж. р▓ир▓┐р▓ор│Нр▓о р▓ор│Зр▓▓р│Ж р▓ир▓ир▓Чр│Ж р▓ир▓Вр▓мр▓┐р▓Хр│Ж! ЁЯМИ"
    ],
    stressed: [
      "р▓Тр▓Яр│Нр▓Яр▓┐р▓Чр│Ж р▓Йр▓╕р▓┐р▓░р▓╛р▓бр│Лр▓г. р▓Йр▓╕р▓┐р▓░р│Б р▓Тр▓│р▓Чр│Ж... р▓╣р│Кр▓░р▓Чр│Ж... ЁЯлз",
      "р▓ир│Ар▓╡р│Б р▓ор▓╛р▓бр▓мр▓▓р│Нр▓▓р▓┐р▓░р▓┐! р▓Тр▓Вр▓жр│Кр▓Вр▓жр│Б р▓╣р│Жр▓Ьр│Нр▓Ьр│Ж р▓Зр▓Яр│Нр▓Яр│Б, р▓ир▓╛р▓╡р│Б р▓Тр▓Яр│Нр▓Яр▓┐р▓Чр│Ж р▓Зр▓жр▓ир│Нр▓ир│Б р▓кр▓░р▓┐р▓╣р▓░р▓┐р▓╕р│Лр▓г. ЁЯТк",
      "р▓Тр▓др│Нр▓др▓б р▓др▓╛р▓др│Нр▓Хр▓╛р▓▓р▓┐р▓Х, р▓Жр▓жр▓░р│Ж р▓ир▓┐р▓ор│Нр▓о р▓╢р▓Хр│Нр▓др▓┐ р▓╢р▓╛р▓╢р│Нр▓╡р▓д. р▓ир▓╛р▓ир│Б р▓╕р▓╣р▓╛р▓пр▓Хр│Нр▓Хр│Ж р▓Зр▓▓р│Нр▓▓р▓┐р▓жр│Нр▓жр│Зр▓ир│Ж! ЁЯМ┐"
    ],
    excited: [
      "р▓ир▓┐р▓ор│Нр▓о р▓╢р▓Хр│Нр▓др▓┐ р▓Ер▓жр│Нр▓нр│Бр▓д! р▓Зр▓жр▓ир│Нр▓ир│Б р▓Пр▓ир▓╛р▓жр▓░р│В р▓Йр▓др│Нр▓кр▓╛р▓жр▓Х р▓Хр│Жр▓▓р▓╕р▓жр▓▓р│Нр▓▓р▓┐ р▓мр▓│р▓╕р│Лр▓г! тЪб",
      "р▓ир▓┐р▓ор│Нр▓о р▓Йр▓др│Нр▓╕р▓╛р▓╣ р▓ир▓ир▓Чр│Ж р▓Зр▓╖р│Нр▓Я! р▓Зр▓Вр▓жр│Б р▓ир▓╛р▓╡р│Б р▓пр▓╛р▓╡ р▓░р│Лр▓ор▓╛р▓Вр▓Ър▓Х р▓Хр│Жр▓▓р▓╕р▓ж р▓ор│Зр▓▓р│Ж р▓Хр│Жр▓▓р▓╕ р▓ор▓╛р▓бр│Бр▓др│Нр▓др▓┐р▓жр│Нр▓жр│Зр▓╡р│Ж? ЁЯЪА",
      "р▓И р▓зр▓ир▓╛р▓др│Нр▓ор▓Х р▓╢р▓Хр│Нр▓др▓┐ р▓ир▓ор▓Чр│Ж р▓мр│Зр▓Хр▓╛р▓жр│Бр▓жр│Б! р▓жр▓┐р▓ир▓╡р▓ир│Нр▓ир│Б р▓Чр│Жр▓▓р│Нр▓▓р│Лр▓г! ЁЯФе"
    ]
  },
  ml: {
    happy: [
      "р┤Ер┤др╡Н р┤Ер┤др┤┐р┤╢р┤пр┤Хр┤░р┤В! р┤ир┤┐р┤Щр╡Нр┤Щр╡╛р┤Хр╡Нр┤Хр╡Н р┤╡р╡Зр┤гр╡Нр┤Яр┤┐ р┤Юр┤╛р╡╗ р┤╡р┤│р┤░р╡Ж р┤╕р┤ир╡Нр┤др╡Лр┤╖р┤┐р┤Хр╡Нр┤Хр╡Бр┤ир╡Нр┤ир╡Б! ЁЯОЙ",
      "р┤ир┤┐р┤Щр╡Нр┤Щр┤│р╡Бр┤Яр╡Ж р┤╕р┤ир╡Нр┤др╡Лр┤╖р┤В р┤кр┤Хр╡╝р┤Ър╡Нр┤Ър┤╡р╡Нр┤пр┤╛р┤зр┤┐! р┤И р┤ир┤▓р╡Нр┤▓ р┤╡р┤┐р┤Хр┤╛р┤░р┤Щр╡Нр┤Щр╡╛ р┤кр╡Нр┤░р┤Ър┤░р┤┐р┤кр╡Нр┤кр┤┐р┤Ър╡Нр┤Ър╡Бр┤Хр╡Кр┤гр╡Нр┤Яр┤┐р┤░р┤┐р┤Хр╡Нр┤Хр╡В! тЬи",
      "р┤ир┤┐р┤Щр╡Нр┤Щр┤│р╡Ж р┤Зр┤др╡Нр┤░р┤пр╡Бр┤В р┤Жр┤╡р╡Зр┤╢р┤др╡Нр┤др╡Лр┤Яр╡Ж р┤Хр┤╛р┤гр╡Бр┤ир╡Нр┤ир┤др╡Н р┤Ор┤ир┤┐р┤Хр╡Нр┤Хр╡Н р┤Зр┤╖р╡Нр┤Яр┤В! р┤И р┤Кр╡╝р┤Ьр╡Нр┤Ьр┤В р┤ор┤┐р┤Хр┤Ър╡Нр┤Ъ р┤░р╡Ар┤др┤┐р┤пр┤┐р╡╜ р┤Йр┤кр┤пр╡Лр┤Чр┤┐р┤Хр╡Нр┤Хр┤╛р┤В!"
    ],
    sad: [
      "р┤Юр┤╛р╡╗ р┤ир┤┐р┤Щр╡Нр┤Щр┤│р╡Лр┤Яр╡Кр┤кр╡Нр┤кр┤ор╡Бр┤гр╡Нр┤Яр╡Н р┤╕р╡Бр┤╣р╡Гр┤др╡Нр┤др╡З. р┤Ър┤┐р┤▓р┤кр╡Нр┤кр╡Лр╡╛ р┤╕р┤Щр╡Нр┤Хр┤Яр┤кр╡Нр┤кр╡Жр┤Яр╡Бр┤ир╡Нр┤ир┤др╡Н р┤╕р┤╛р┤зр┤╛р┤░р┤гр┤ор┤╛р┤гр╡Н. ЁЯТЩ",
      "р┤Ор┤ир╡Нр┤ир╡Лр┤Яр╡Кр┤кр╡Нр┤кр┤В р┤Жр┤┤р┤др╡Нр┤др┤┐р╡╜ р┤╢р╡Нр┤╡р┤╕р┤┐р┤Хр╡Нр┤Хр╡В. р┤ир┤┐р┤Щр╡Нр┤Щр╡╛ р┤╡р┤┐р┤Ър┤╛р┤░р┤┐р┤Хр╡Нр┤Хр╡Бр┤ир╡Нр┤ир┤др┤┐р┤ир╡Зр┤Хр╡Нр┤Хр┤╛р╡╛ р┤Хр╡Вр┤Яр╡Бр┤др╡╜ р┤╢р┤Хр╡Нр┤др┤░р┤╛р┤гр╡Н. ЁЯМ╕",
      "р┤Ур╡╝р┤Хр╡Нр┤Хр╡Бр┤Х, р┤Ур┤░р╡Л р┤Хр╡Кр┤Яр╡Бр┤Щр╡Нр┤Хр┤╛р┤▒р╡Нр┤▒р┤┐р┤ир╡Н р┤╢р╡Зр┤╖р┤╡р╡Бр┤В р┤ор┤┤р┤╡р┤┐р┤▓р╡Нр┤▓р╡Н р┤╡р┤░р╡Бр┤ир╡Нр┤ир╡Б. р┤ир┤┐р┤Щр╡Нр┤Щр┤│р┤┐р╡╜ р┤Ор┤ир┤┐р┤Хр╡Нр┤Хр╡Н р┤╡р┤┐р┤╢р╡Нр┤╡р┤╛р┤╕р┤ор╡Бр┤гр╡Нр┤Яр╡Н! ЁЯМИ"
    ],
    stressed: [
      "р┤ир┤ор╡Бр┤Хр╡Нр┤Хр╡Н р┤Тр┤░р╡Бр┤ор┤┐р┤Ър╡Нр┤Ър╡Н р┤╢р╡Нр┤╡р┤╕р┤┐р┤Хр╡Нр┤Хр┤╛р┤В. р┤╢р╡Нр┤╡р┤╛р┤╕р┤В р┤Ер┤Хр┤др╡Нр┤др╡Зр┤Хр╡Нр┤Хр╡Н... р┤кр╡Бр┤▒р┤др╡Нр┤др╡Зр┤Хр╡Нр┤Хр╡Н... ЁЯлз",
      "р┤ир┤┐р┤Щр╡Нр┤Щр╡╛р┤Хр╡Нр┤Хр╡Н р┤Хр┤┤р┤┐р┤пр╡Бр┤В! р┤Ур┤░р╡Л р┤Ър╡Бр┤╡р┤Яр╡Бр┤В р┤Ор┤Яр╡Бр┤др╡Нр┤др╡Бр┤╡р┤Ър╡Нр┤Ър╡Н, р┤ир┤ор╡Бр┤Хр╡Нр┤Хр╡Н р┤Тр┤░р╡Бр┤ор┤┐р┤Ър╡Нр┤Ър╡Н р┤Зр┤др╡Н р┤кр┤░р┤┐р┤╣р┤░р┤┐р┤Хр╡Нр┤Хр┤╛р┤В. ЁЯТк",
      "р┤╕р┤ор╡Нр┤ор╡╝р┤жр╡Нр┤жр┤В р┤др┤╛р╡╜р┤Хр╡Нр┤Хр┤╛р┤▓р┤┐р┤Хр┤ор┤╛р┤гр╡Н, р┤Ор┤ир╡Нр┤ир┤╛р╡╜ р┤ир┤┐р┤Щр╡Нр┤Щр┤│р╡Бр┤Яр╡Ж р┤╢р┤Хр╡Нр┤др┤┐ р┤╢р┤╛р┤╢р╡Нр┤╡р┤др┤ор┤╛р┤гр╡Н. р┤╕р┤╣р┤╛р┤пр┤др╡Нр┤др┤┐р┤ир╡Н р┤Юр┤╛р╡╗ р┤Зр┤╡р┤┐р┤Яр╡Жр┤пр╡Бр┤гр╡Нр┤Яр╡Н! ЁЯМ┐"
    ],
    excited: [
      "р┤ир┤┐р┤Щр╡Нр┤Щр┤│р╡Бр┤Яр╡Ж р┤Кр╡╝р┤Ьр╡Нр┤Ьр┤В р┤Ер┤др┤┐р┤╢р┤пр┤Хр┤░р┤В! р┤Зр┤др╡Н р┤Ор┤ир╡Нр┤др╡Жр┤Щр╡Нр┤Хр┤┐р┤▓р╡Бр┤В р┤Йр╡╜р┤кр╡Нр┤кр┤╛р┤жр┤ир┤Хр╡Нр┤╖р┤ор┤ор┤╛р┤п р┤кр╡Нр┤░р┤╡р╡╝р┤др╡Нр┤др┤ир┤др╡Нр┤др┤┐р╡╜ р┤Йр┤кр┤пр╡Лр┤Чр┤┐р┤Хр╡Нр┤Хр┤╛р┤В! тЪб",
      "р┤ир┤┐р┤Щр╡Нр┤Щр┤│р╡Бр┤Яр╡Ж р┤Жр┤╡р╡Зр┤╢р┤В р┤Ор┤ир┤┐р┤Хр╡Нр┤Хр╡Н р┤Зр┤╖р╡Нр┤Яр┤В! р┤Зр┤ир╡Нр┤ир╡Н р┤ир┤ор╡Нр┤ор╡╛ р┤Пр┤др╡Н р┤Жр┤╡р╡Зр┤╢р┤Хр┤░р┤ор┤╛р┤п р┤Хр┤╛р┤░р╡Нр┤пр┤др╡Нр┤др┤┐р╡╜ р┤кр╡Нр┤░р┤╡р╡╝р┤др╡Нр┤др┤┐р┤Хр╡Нр┤Хр╡Бр┤ир╡Нр┤ир╡Б? ЁЯЪА",
      "р┤И р┤кр╡Лр┤╕р┤┐р┤▒р╡Нр┤▒р╡Ар┤╡р╡Н р┤Ор┤ир╡╝р┤Ьр┤┐ р┤ир┤ор╡Бр┤Хр╡Нр┤Хр╡Н р┤╡р╡Зр┤гр╡Нр┤Яр┤др╡Н! р┤жр┤┐р┤╡р┤╕р┤В р┤Ьр┤пр┤┐р┤Хр╡Нр┤Хр┤╛р┤В! ЁЯФе"
    ]
  },
  pa: {
    happy: [
      "ри╕ри╝ри╛риирижри╛ри░! риорйИриВ ридрйБри╣ри╛рибрйЗ ри▓риИ римри╣рйБрид риЦрйБри╕ри╝ ри╣ри╛риВ! ЁЯОЙ",
      "ридрйБри╣ри╛рибрйА риЦрйБри╕ри╝рйА риЫрйВрид рижрйА ридри░рйНри╣ри╛риВ рилрйИри▓рижрйА ри╣рйИ! риЗриирйНри╣ри╛риВ риЪрй░риЧрйАриЖриВ ринри╛ри╡риири╛ри╡ри╛риВ риирйВрй░ рилрйИри▓ри╛риЙриВрижрйЗ ри░ри╣рйЛ! тЬи",
      "ридрйБри╣ри╛риирйВрй░ риЗрй░риири╛ риЙридри╕ри╝ри╛ри╣ри┐рид рижрйЗриЦригри╛ риорйИриирйВрй░ риЪрй░риЧри╛ ри▓рй▒риЧрижри╛ ри╣рйИ! риЗри╕ риКри░риЬри╛ рижри╛ ри╕рин ридрйЛриВ ри╡ризрйАриЖ риЗри╕ридрйЗриори╛ри▓ риХри░рйАриП!"
    ],
    sad: [
      "риорйИриВ ридрйБри╣ри╛рибрйЗ риири╛ри▓ ри╣ри╛риВ рижрйЛри╕ридред риХриИ ри╡ри╛ри░ риЙрижри╛ри╕ ри╣рйЛригри╛ ри╕ризри╛ри░рии риЧрй▒ри▓ ри╣рйИред ЁЯТЩ",
      "риорйЗри░рйЗ риири╛ри▓ рибрйВрй░риШри╛ ри╕ри╛ри╣ ри▓риУред ридрйБри╕рйАриВ ри╕рйЛриЪрижрйЗ ри╣рйЛ риЙри╕ ридрйЛриВ риХри┐ридрйЗ риЬри╝ри┐риЖрижри╛ риориЬри╝римрйВрид ри╣рйЛред ЁЯМ╕",
      "рипри╛риж ри░рй▒риЦрйЛ, ри╣ри░ ридрйВрилри╝ри╛рии ридрйЛриВ римри╛риЕриж риЗрй░рижри░ризриирйБри╕ри╝ риЖриЙриВрижри╛ ри╣рйИред риорйИриирйВрй░ ридрйБри╣ри╛рибрйЗ ридрйЗ ринри░рйЛри╕ри╛ ри╣рйИ! ЁЯМИ"
    ],
    stressed: [
      "риЖриУ риори┐ри▓ риХрйЗ ри╕ри╛ри╣ ри▓риИриПред ри╕ри╛ри╣ риЕрй░рижри░... римри╛ри╣ри░... ЁЯлз",
      "ридрйБри╕рйАриВ риЗри╣ риХри░ ри╕риХрижрйЗ ри╣рйЛ! риЗрй▒риХ риЗрй▒риХ риХрижрио ри░рй▒риЦ риХрйЗ, риЕри╕рйАриВ риори┐ри▓ риХрйЗ риЗри╕ риирйВрй░ ри╣рй▒ри▓ риХри░ри╛риВриЧрйЗред ЁЯТк",
      "ридригри╛риЕ риЕри╕риери╛риИ ри╣рйИ, рикри░ ридрйБри╣ри╛рибрйА ридри╛риХрид ри╕риери╛риИ ри╣рйИред риорйИриВ риорижриж ри▓риИ риЗрй▒риерйЗ ри╣ри╛риВ! ЁЯМ┐"
    ],
    excited: [
      "ридрйБри╣ри╛рибрйА риКри░риЬри╛ ри╕ри╝ри╛риирижри╛ри░ ри╣рйИ! риЗри╕ риирйВрй░ риХри┐ри╕рйЗ ри▓ри╛ринрижри╛риЗриХ риХрй░рио ри╡ри┐рй▒риЪ ри▓риЧри╛риИриП! тЪб",
      "риорйИриирйВрй░ ридрйБри╣ри╛рибри╛ риЙридри╕ри╝ри╛ри╣ рикри╕рй░риж ри╣рйИ! риЕрй▒риЬ риЕри╕рйАриВ риХри┐ри╕ рижри┐ри▓риЪри╕рик риХрй░рио ридрйЗ риХрй░рио риХри░ ри░ри╣рйЗ ри╣ри╛риВ? ЁЯЪА",
      "риЗри╣рйА ри╕риХри╛ри░ри╛ридриориХ риКри░риЬри╛ ри╕ри╛рибрйЗ ри▓риИ ри▓рйЛрйЬрйАриВрижрйА ри╣рйИ! риЖриУ рижри┐рии риЬри┐рй▒ридрйАриП! ЁЯФе"
    ]
  },
  or: {
    happy: [
      "рмЕрмжрнНрмнрнБрмд! рмЖрмкрмгрмЩрнНрмХ рмкрм╛рмЗрмБ рморнБрмБ рммрм╣рнБрмд рмЦрнБрм╕рм┐! ЁЯОЙ",
      "рмЖрмкрмгрмЩрнНрмХрм░ рмЦрнБрм╕рм┐ рм╕рмВрмХрнНрм░рм╛рмормХ! рмПрм╣рм┐ рмнрм▓ рмнрм╛рммрмирм╛рмЧрнБрмбрм╝рм┐рмХрнБ рмлрнИрм▓рм╛рмЗрммрм╛рм░рнЗ рм▓рм╛рмЧрм┐рм░рнБрм╣рмирнНрмдрнБ! тЬи",
      "рмЖрмкрмгрмЩрнНрмХрнБ рмПрмдрнЗ рмЙрмдрнНрм╕рм╛рм╣рм┐рмд рмжрнЗрмЦрм┐рммрм╛ рморнЛрм░ рмкрм╕рмирнНрмж! рмПрм╣рм┐ рм╢рмХрнНрмдрм┐рм░ рм╕рм░рнНрммрнЛрмдрнНрмдрмо рммрнНрнЯрммрм╣рм╛рм░ рмХрм░рм┐рммрм╛!"
    ],
    sad: [
      "рморнБрмБ рмЖрмкрмгрмЩрнНрмХ рм╕рм╣рм┐рмд рмЕрмЫрм┐ рммрмирнНрмзрнБред рмХрнЗрмдрнЗрммрнЗрм│рнЗ рмжрнБрмГрмЦ рм▓рм╛рмЧрм┐рммрм╛ рм╕рм╛рмзрм╛рм░рмг рмХрмерм╛ред ЁЯТЩ",
      "рморнЛ рм╕рм╣рм┐рмд рмЧрмнрнАрм░ рмирм┐рм╢рнНрн▒рм╛рм╕ рмирм┐рмЕрмирнНрмдрнБред рмЖрмкрмг рмнрм╛рммрнБрмЫрмирнНрмдрм┐ рм╕рнЗрмдрм┐рмХрм┐рм░рнБ рмЕрмзрм┐рмХ рм╢рмХрнНрмдрм┐рм╢рм╛рм│рнАред ЁЯМ╕",
      "рмормирнЗрм░рмЦрмирнНрмдрнБ, рмкрнНрм░рмдрнНрнЯрнЗрмХ рмЭрмбрм╝ рмкрм░рнЗ рмЗрмирнНрмжрнНрм░рмзрмирнБ рмЖрм╕рнЗред рмЖрмкрмгрмЩрнНрмХ рмЙрмкрм░рнЗ рморнЛрм░ рммрм┐рм╢рнНрн▒рм╛рм╕! ЁЯМИ"
    ],
    stressed: [
      "рмЖрм╕рмирнНрмдрнБ рмПрмХрм╕рм╛рмернЗ рмирм┐рм╢рнНрн▒рм╛рм╕ рмирнЗрммрм╛ред рмирм┐рм╢рнНрн▒рм╛рм╕ рмнрм┐рмдрм░рнЗ... рммрм╛рм╣рм╛рм░рнЗ... ЁЯлз",
      "рмЖрмкрмг рмкрм╛рм░рм┐рммрнЗ! рмЧрнЛрмЯрм┐рмП рмкрмжрмХрнНрм╖рнЗрмк рмкрм░рнЗ рмЖрмЙ рмЧрнЛрмЯрм┐рмП, рмЖрморнЗ рморм┐рм│рм┐рмд рм╣рнЛрмЗ рмПрм╣рм╛рм░ рм╕рморм╛рмзрм╛рми рмХрм░рм┐рммрм╛ред ЁЯТк",
      "рмЪрм╛рмк рмЕрм╕рнНрмерм╛рнЯрнА, рмХрм┐рмирнНрмдрнБ рмЖрмкрмгрмЩрнНрмХрм░ рм╢рмХрнНрмдрм┐ рм╕рнНрмерм╛рнЯрнАред рморнБрмБ рм╕рм╛рм╣рм╛рмпрнНрнЯ рмкрм╛рмЗрмБ рмПрмарм╛рм░рнЗ рмЕрмЫрм┐! ЁЯМ┐"
    ],
    excited: [
      "рмЖрмкрмгрмЩрнНрмХрм░ рм╢рмХрнНрмдрм┐ рмЕрмжрнНрмнрнБрмд! рмПрм╣рм╛рмХрнБ рмХрнМрмгрм╕рм┐ рмЙрмдрнНрмкрм╛рмжрмирм╢рнАрм│ рмХрм╛рм░рнНрмпрнНрнЯрм░рнЗ рм▓рмЧрм╛рмЗрммрм╛! тЪб",
      "рмЖрмкрмгрмЩрнНрмХрм░ рмЙрмдрнНрм╕рм╛рм╣ рморнЛрм░ рмкрм╕рмирнНрмж! рмЖрмЬрм┐ рмЖрморнЗ рмХрнЗрмЙрмБ рм░рнЛрморм╛рмЮрнНрмЪрмХрм░ рмХрм╛рморм░рнЗ рмХрм╛рмо рмХрм░рнБрмЫрнБ? ЁЯЪА",
      "рмПрм╣рм┐ рм╕рмХрм╛рм░рм╛рмдрнНрмормХ рм╢рмХрнНрмдрм┐ рмЖрморм░ рмжрм░рмХрм╛рм░! рмжрм┐рмирмЯрм╛рмХрнБ рмЬрм┐рмдрм┐рммрм╛! ЁЯФе"
    ]
  },
  as: {
    happy: [
      "ржЕрж╕рж╛ржзрж╛рз░ржг! ржЖржкрзЛржирж╛рз░ ржмрж╛ржмрзЗ ржоржЗ ржЕрждрж┐ ржЖржиржирзНржжрж┐ржд! ЁЯОЙ",
      "ржЖржкрзЛржирж╛рз░ ржЖржиржирзНржж рж╕ржВржХрзНрз░рж╛ржоржХ! ржПржЗ ржнрж╛рж▓ ржЕржирзБржнрз▒ржмрзЛрз░ ржмрж┐ржпрж╝ржкрж╛ржЗ ржерж╛ржХржХ! тЬи",
      "ржЖржкрзЛржирж╛ржХ ржЗржорж╛ржи ржЙрзОрж╕рж╛рж╣рж┐ржд ржжрзЗржЦрж┐ ржорзЛрз░ ржнрж╛рж▓ рж▓рж╛ржЧрж┐ржЫрзЗ! ржПржЗ рж╢ржХрзНрждрж┐рз░ рж╕рз░рзНржмрзЛрждрзНрждржо ржмрзНржпрз▒рж╣рж╛рз░ ржХрз░рзЛржБ!"
    ],
    sad: [
      "ржоржЗ ржЖржкрзЛржирж╛рз░ рж▓ржЧржд ржЖржЫрзЛржБ ржмржирзНржзрзБред ржХрзЗрждрж┐ржпрж╝рж╛ржмрж╛ ржжрзБржЦ ржкрзЛрз▒рж╛ржЯрзЛ рж╕рзНржмрж╛ржнрж╛рз▒рж┐ржХред ЁЯТЩ",
      "ржорзЛрз░ рж▓ржЧржд ржЧржнрзАрз░ржнрж╛рз▒рзЗ ржЙрж╢рж╛рж╣ рж▓ржУржХред ржЖржкрзБржирж┐ ржнржмрж╛рждржХрзИ ржЕржзрж┐ржХ рж╢ржХрзНрждрж┐рж╢рж╛рж▓рзАред ЁЯМ╕",
      "ржоржиржд рз░рж╛ржЦрж┐ржм, ржкрзНрз░рждрж┐ржЯрзЛ ржзрзБржорзБрж╣рж╛рз░ ржкрж┐ржЫржд рз░рж╛ржоржзрзЗржирзБ ржЖрж╣рзЗред ржЖржкрзЛржирж╛рз░ ржУржкрз░ржд ржорзЛрз░ ржмрж┐рж╢рзНржмрж╛рж╕! ЁЯМИ"
    ],
    stressed: [
      "ржЖрж╣ржХ ржПржХрзЗрж▓ржЧрзЗ ржЙрж╢рж╛рж╣ рж▓ржУржБред ржЙрж╢рж╛рж╣ ржнрж┐рждрз░рж▓рзИ... ржмрж╛рж╣рж┐рз░рж▓рзИ... ЁЯлз",
      "ржЖржкрзБржирж┐ ржкрж╛рз░рж┐ржм! ржПржЯрж╛ ржПржЯрж╛ ржкржжржХрзНрж╖рзЗржк рж▓рзИ, ржЖржорж┐ ржорж┐рж▓рж┐ ржПржЗржЯрзЛ рж╕ржорж╛ржзрж╛ржи ржХрз░рж┐ржоред ЁЯТк",
      "ржЪрж╛ржк ржЕрж╕рзНржерж╛ржпрж╝рзА, ржХрж┐ржирзНрждрзБ ржЖржкрзЛржирж╛рз░ рж╢ржХрзНрждрж┐ рж╕рзНржерж╛ржпрж╝рзАред ржоржЗ рж╕рж╣рж╛ржпрж╝рз░ ржмрж╛ржмрзЗ ржЗржпрж╝рж╛рждрзЗ ржЖржЫрзЛржБ! ЁЯМ┐"
    ],
    excited: [
      "ржЖржкрзЛржирж╛рз░ рж╢ржХрзНрждрж┐ ржЕрж╕рж╛ржзрж╛рз░ржг! ржЗржпрж╝рж╛ржХ ржХрж┐ржмрж╛ ржЙрзОржкрж╛ржжржирж╢рзАрж▓ ржХрж╛ржоржд ржмрзНржпрз▒рж╣рж╛рз░ ржХрз░рзЛржБ! тЪб",
      "ржЖржкрзЛржирж╛рз░ ржЙрзОрж╕рж╛рж╣ ржорзЛрз░ ржнрж╛рж▓ рж▓рж╛ржЧрзЗ! ржЖржЬрж┐ ржЖржорж┐ ржХрж┐ рз░рзЛржорж╛ржЮрзНржЪржХрз░ ржХрж╛ржоржд ржХрж╛ржо ржХрз░рж┐ ржЖржЫрзЛржБ? ЁЯЪА",
      "ржПржЗ ржЗрждрж┐ржмрж╛ржЪржХ рж╢ржХрзНрждрж┐ржпрж╝рзЗ ржЖржорж╛рз░ ржкрзНрз░ржпрж╝рзЛржЬржи! ржжрж┐ржиржЯрзЛ ржЬржпрж╝ ржХрз░рзЛржБ! ЁЯФе"
    ]
  },
  ur: {
    happy: [
      "╪▓╪и╪▒╪п╪│╪к! ┘Е█М┌║ ╪в┘╛ ┌й█Т ┘Д█М█Т ╪и█Б╪к ╪о┘И╪┤ █Б┘И┌║! ЁЯОЙ",
      "╪в┘╛ ┌й█М ╪о┘И╪┤█М ┘Е╪к╪╣╪п█М █Б█Т! █М█Б ╪з┌Ж┌╛█М ╪м╪░╪и╪з╪к ┌й┘И ┘╛┌╛█М┘Д╪з╪к█Т ╪▒█Б█М┌║! тЬи",
      "╪в┘╛ ┌й┘И ╪з╪к┘Ж╪з ┘╛╪▒╪м┘И╪┤ ╪п█М┌й┌╛┘Ж╪з ┘Е╪м┌╛█Т ╪з┌Ж┌╛╪з ┘Д┌п╪к╪з █Б█Т! ╪з╪│ ╪к┘И╪з┘Ж╪з╪ж█М ┌й╪з ╪и█Б╪к╪▒█М┘Ж ╪з╪│╪к╪╣┘Е╪з┘Д ┌й╪▒█М┌║!"
    ],
    sad: [
      "┘Е█М┌║ ╪в┘╛ ┌й█Т ╪│╪з╪к┌╛ █Б┘И┌║ ╪п┘И╪│╪к█Ф ┌й╪и┌╛█М ┌й╪и┌╛█М ╪з╪п╪з╪│ █Б┘И┘Ж╪з ╪╣╪з┘Е ╪и╪з╪к █Б█Т█Ф ЁЯТЩ",
      "┘Е█М╪▒█Т ╪│╪з╪к┌╛ ┌п█Б╪▒█М ╪│╪з┘Ж╪│ ┘Д█М┌║█Ф ╪в┘╛ ╪з┘╛┘Ж█Т ╪о█М╪з┘Д ╪│█Т ┌й█Б█М┌║ ╪▓█М╪з╪п█Б ┘Е╪╢╪и┘И╪╖ █Б█М┌║█Ф ЁЯМ╕",
      "█М╪з╪п ╪▒┌й┌╛█М┌║╪М █Б╪▒ ╪╖┘И┘Б╪з┘Ж ┌й█Т ╪и╪╣╪п ┘В┘И╪│ ┘В╪▓╪н ╪в╪к█М █Б█Т█Ф ┘Е╪м┌╛█Т ╪в┘╛ ┘╛╪▒ █М┘В█М┘Ж █Б█Т! ЁЯМИ"
    ],
    stressed: [
      "╪в╪ж█М█Т ╪з█М┌й ╪│╪з╪к┌╛ ╪│╪з┘Ж╪│ ┘Д█М╪к█Т █Б█М┌║█Ф ╪│╪з┘Ж╪│ ╪з┘Ж╪п╪▒... ╪и╪з█Б╪▒... ЁЯлз",
      "╪в┘╛ █М█Б ┌й╪▒ ╪│┌й╪к█Т █Б█М┌║! ╪з█М┌й ╪з█М┌й ┘В╪п┘Е╪М █Б┘Е ┘Е┘Д ┌й╪▒ ╪з╪│█Т ╪н┘Д ┌й╪▒█М┌║ ┌п█Т█Ф ЁЯТк",
      "╪к┘Ж╪з╪д ╪╣╪з╪▒╪╢█М █Б█Т╪М ┘Д█М┌й┘Ж ╪в┘╛ ┌й█М ╪╖╪з┘В╪к ┘Е╪│╪к┘В┘Д █Б█Т█Ф ┘Е█М┌║ ┘Е╪п╪п ┌й█Т ┘Д█М█Т █М█Б╪з┌║ █Б┘И┌║! ЁЯМ┐"
    ],
    excited: [
      "╪в┘╛ ┌й█М ╪к┘И╪з┘Ж╪з╪ж█М ╪н█М╪▒╪к ╪з┘Ж┌п█М╪▓ █Б█Т! ╪з╪│█Т ┌й╪│█М ┘Е┘Б█М╪п ┌й╪з┘Е ┘Е█М┌║ ┘Д┌п╪з╪ж█М┌║! тЪб",
      "┘Е╪м┌╛█Т ╪в┘╛ ┌й╪з ╪м┘И╪┤ ┘╛╪│┘Ж╪п █Б█Т! ╪в╪м █Б┘Е ┌й╪│ ╪п┘Д┌Ж╪│┘╛ ┌й╪з┘Е ┘╛╪▒ ┌й╪з┘Е ┌й╪▒ ╪▒█Б█Т █Б█М┌║╪Я ЁЯЪА",
      "█М█Б█М ┘Е╪л╪и╪к ╪к┘И╪з┘Ж╪з╪ж█М █Б┘Е█М┌║ ┌Ж╪з█Б█М█Т! ╪п┘Ж ┌й┘И ╪м█М╪к╪к█Т █Б█М┌║! ЁЯФе"
    ]
  }
};

export function ChatInterface({ language, currentMood, onMoodChange }: ChatInterfaceProps) {
  const [messages, setMessages] = useState<Message[]>([
    {
      id: '1',
      text: language === 'hi' ? 'рдирдорд╕реНрддреЗ! рдореИрдВ BestuAI рд╣реВрдВ, рдЖрдкрдХрд╛ рд╕рдмрд╕реЗ рдЕрдЪреНрдЫрд╛ рджреЛрд╕реНрдд рдФрд░ рдЕрдзреНрдпрдпрди рд╕рд╛рдереА! рдЖрдЬ рдЖрдкрдХрд╛ рдореВрдб рдХреИрд╕рд╛ рд╣реИ?' 
           : language === 'mr' ? 'рдирдорд╕реНрдХрд╛рд░! рдореА BestuAI рдЖрд╣реЗ, рддреБрдЭрд╛ рд╕рд░реНрд╡реЛрддреНрддрдо рдорд┐рддреНрд░ рдЖрдгрд┐ рдЕрднреНрдпрд╛рд╕ рд╕рд╣рдХрд╛рд░реА! рдЖрдЬ рддреБрдЭрд╛ рдореВрдб рдХрд╕рд╛ рдЖрд╣реЗ?'
           : 'Hi there! I\'m BestuAI, your best friend and study companion! How are you feeling today?',
      sender: 'bestu',
      timestamp: new Date()
    }
  ]);
  const [inputText, setInputText] = useState('');
  const [isTyping, setIsTyping] = useState(false);
  const messagesEndRef = useRef<HTMLDivElement>(null);

  const scrollToBottom = () => {
    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });
  };

  useEffect(() => {
    scrollToBottom();
  }, [messages]);

  const detectMood = (text: string): string => {
    const lowerText = text.toLowerCase();
    
    if (lowerText.includes('happy') || lowerText.includes('great') || lowerText.includes('awesome') || 
        lowerText.includes('рдЦреБрд╢') || lowerText.includes('рдЕрдЪреНрдЫрд╛') || lowerText.includes('рдЖрдирдВрджреА')) {
      return 'happy';
    }
    if (lowerText.includes('sad') || lowerText.includes('down') || lowerText.includes('upset') ||
        lowerText.includes('рдЙрджрд╛рд╕') || lowerText.includes('рджреБрдГрдЦреА')) {
      return 'sad';
    }
    if (lowerText.includes('stress') || lowerText.includes('anxious') || lowerText.includes('worried') ||
        lowerText.includes('рддрдирд╛рд╡') || lowerText.includes('рдЪрд┐рдВрддрд╛')) {
      return 'stressed';
    }
    if (lowerText.includes('excited') || lowerText.includes('energy') || lowerText.includes('pumped') ||
        lowerText.includes('рдЙрддреНрд╕рд╛рд╣') || lowerText.includes('рдКрд░реНрдЬрд╛')) {
      return 'excited';
    }
    return 'neutral';
  };

  const generateResponse = (userMessage: string, detectedMood: string): string => {
    const responses = moodResponses[language as keyof typeof moodResponses] || moodResponses.en;
    const moodResponses_arr = responses[detectedMood as keyof typeof responses];
    
    if (moodResponses_arr && moodResponses_arr.length > 0) {
      return moodResponses_arr[Math.floor(Math.random() * moodResponses_arr.length)];
    }
    
    // Default responses
    const defaultResponses = {
      en: "I'm here to listen and help! Tell me more about what's on your mind.",
      hi: "рдореИрдВ рд╕реБрдирдиреЗ рдФрд░ рдорджрдж рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдпрд╣рд╛рдВ рд╣реВрдВ! рдореБрдЭреЗ рдмрддрд╛рдПрдВ рдХрд┐ рдЖрдкрдХреЗ рдорди рдореЗрдВ рдХреНрдпрд╛ рд╣реИред",
      mr: "рдореА рдРрдХрдгреНрдпрд╛рд╕рд╛рдареА рдЖрдгрд┐ рдорджрдд рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдпреЗрдереЗ рдЖрд╣реЗ! рддреБрдЭреНрдпрд╛ рдордирд╛рдд рдХрд╛рдп рдЖрд╣реЗ рддреЗ рдорд▓рд╛ рд╕рд╛рдВрдЧрд╛."
    };
    
    return defaultResponses[language as keyof typeof defaultResponses] || defaultResponses.en;
  };

  const handleSendMessage = () => {
    if (!inputText.trim()) return;

    const userMessage: Message = {
      id: Date.now().toString(),
      text: inputText,
      sender: 'user',
      timestamp: new Date()
    };

    setMessages(prev => [...prev, userMessage]);
    setInputText('');
    setIsTyping(true);

    // Detect mood and generate response
    const detectedMood = detectMood(inputText);
    if (detectedMood !== 'neutral') {
      onMoodChange(detectedMood);
    }

    setTimeout(() => {
      const response = generateResponse(inputText, detectedMood);
      const bestuMessage: Message = {
        id: (Date.now() + 1).toString(),
        text: response,
        sender: 'bestu',
        timestamp: new Date(),
        mood: detectedMood !== 'neutral' ? detectedMood as any : undefined
      };

      setMessages(prev => [...prev, bestuMessage]);
      setIsTyping(false);
    }, 1000);
  };

  const getMoodIcon = (mood?: string) => {
    switch (mood) {
      case 'happy': return (
        <div className="flex items-center gap-1">
          <Smile className="w-4 h-4 text-yellow-500 animate-bounce" />
          <span className="text-lg">ЁЯШК</span>
        </div>
      );
      case 'sad': return (
        <div className="flex items-center gap-1">
          <Frown className="w-4 h-4 text-blue-500" />
          <span className="text-lg">ЁЯШФ</span>
        </div>
      );
      case 'stressed': return (
        <div className="flex items-center gap-1">
          <Zap className="w-4 h-4 text-green-500" />
          <span className="text-lg">ЁЯШ░</span>
        </div>
      );
      case 'excited': return (
        <div className="flex items-center gap-1">
          <Heart className="w-4 h-4 text-pink-500 animate-pulse" />
          <span className="text-lg">ЁЯдй</span>
        </div>
      );
      default: return <span className="text-lg">ЁЯШМ</span>;
    }
  };

  const getMoodColors = (mood?: string) => {
    switch (mood) {
      case 'happy':
        return {
          bg: 'bg-gradient-to-r from-yellow-100 to-orange-100 dark:from-yellow-900/30 dark:to-orange-900/30',
          border: 'border-yellow-300',
          text: 'text-yellow-700 dark:text-yellow-300'
        };
      case 'sad':
        return {
          bg: 'bg-gradient-to-r from-blue-100 to-blue-200 dark:from-blue-900/30 dark:to-blue-800/30',
          border: 'border-blue-300',
          text: 'text-blue-700 dark:text-blue-300'
        };
      case 'stressed':
        return {
          bg: 'bg-gradient-to-r from-green-100 to-emerald-100 dark:from-green-900/30 dark:to-emerald-900/30',
          border: 'border-green-300',
          text: 'text-green-700 dark:text-green-300'
        };
      case 'excited':
        return {
          bg: 'bg-gradient-to-r from-pink-100 to-purple-100 dark:from-pink-900/30 dark:to-purple-900/30',
          border: 'border-pink-300',
          text: 'text-pink-700 dark:text-pink-300'
        };
      default:
        return {
          bg: 'bg-gradient-to-r from-purple-100 to-violet-100 dark:from-purple-900/30 dark:to-violet-900/30',
          border: 'border-purple-300',
          text: 'text-purple-700 dark:text-purple-300'
        };
    }
  };

  return (
    <div className="flex flex-col h-full">
      <div className="flex-1 p-4 overflow-y-auto space-y-4">
        {messages.map((message) => {
          const moodColors = getMoodColors(message.mood);
          return (
            <div
              key={message.id}
              className={`flex ${message.sender === 'user' ? 'justify-end' : 'justify-start'} animate-bounce-in`}
            >
              <Card className={`max-w-xs p-4 border-2 transition-all duration-300 hover:scale-105 ${
                message.sender === 'user' 
                  ? 'bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-lg border-purple-300' 
                  : `${moodColors.bg} ${moodColors.border} shadow-md`
              }`}>
                <div className="flex items-start space-x-2">
                  {message.sender === 'bestu' && (
                    <div className="flex-shrink-0 animate-pulse-gentle">
                      {getMoodIcon(message.mood)}
                    </div>
                  )}
                  <div className="flex-1">
                    <p className={`text-sm font-medium ${
                      message.sender === 'user' ? 'text-white' : moodColors.text
                    }`}>
                      {message.text}
                    </p>
                    <p className={`text-xs mt-1 ${
                      message.sender === 'user' ? 'text-purple-100' : 'text-gray-500'
                    }`}>
                      {message.timestamp.toLocaleTimeString([], { 
                        hour: '2-digit', 
                        minute: '2-digit' 
                      })}
                    </p>
                  </div>
                  {message.sender === 'user' && (
                    <span className="text-lg animate-bounce">ЁЯСд</span>
                  )}
                </div>
              </Card>
            </div>
          );
        })}
        
        {isTyping && (
          <div className="flex justify-start animate-bounce-in">
            <Card className="max-w-xs p-4 bg-gradient-to-r from-purple-100 to-pink-100 dark:from-purple-900/30 dark:to-pink-900/30 border-2 border-purple-200 shadow-lg">
              <div className="flex items-center space-x-3">
                <div className="animate-pulse-gentle">
                  <span className="text-lg">ЁЯдЦ</span>
                </div>
                <div className="flex space-x-1">
                  <div className="w-2 h-2 bg-purple-500 rounded-full animate-bounce"></div>
                  <div className="w-2 h-2 bg-pink-500 rounded-full animate-bounce" style={{ animationDelay: '0.1s' }}></div>
                  <div className="w-2 h-2 bg-blue-500 rounded-full animate-bounce" style={{ animationDelay: '0.2s' }}></div>
                </div>
                <span className="text-xs text-purple-600 dark:text-purple-300 font-medium">
                  BestuAI is thinking... тЬи
                </span>
              </div>
            </Card>
          </div>
        )}
        
        <div ref={messagesEndRef} />
      </div>

      <div className="p-6 border-t-2 border-gradient-to-r from-purple-200 to-pink-200 bg-gradient-to-r from-purple-50/50 to-pink-50/50 dark:from-purple-900/20 dark:to-pink-900/20">
        <div className="flex space-x-3">
          <Input
            value={inputText}
            onChange={(e) => setInputText(e.target.value)}
            placeholder={
              language === 'hi' ? 'рдЕрдкрдирд╛ рд╕рдВрджреЗрд╢ рдЯрд╛рдЗрдк рдХрд░реЗрдВ... тЬи' 
              : language === 'mr' ? 'рддреБрдЭрд╛ рд╕рдВрджреЗрд╢ рдЯрд╛рдЗрдк рдХрд░... тЬи'
              : 'Type your message... тЬи'
            }
            onKeyPress={(e) => e.key === 'Enter' && handleSendMessage()}
            className="flex-1 border-2 border-purple-200 rounded-xl font-medium placeholder:text-purple-400 focus:border-purple-400 focus:ring-purple-300 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm"
          />
          <Button 
            size="icon" 
            variant="outline"
            className="btn-cheerful border-2 border-orange-300 bg-gradient-to-r from-orange-400 to-yellow-400 text-white hover:from-orange-500 hover:to-yellow-500 transition-all duration-300 hover:scale-110"
          >
            <Mic className="w-4 h-4" />
            <span className="sr-only">Voice message</span>
          </Button>
          <Button 
            size="icon" 
            onClick={handleSendMessage}
            className="btn-cheerful bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 border-none shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-110"
          >
            <Send className="w-4 h-4" />
            <span className="sr-only">Send message</span>
          </Button>
        </div>
        <div className="mt-2 text-center">
          <p className="text-xs text-purple-600 dark:text-purple-300 animate-pulse">
            ЁЯТб {language === 'hi' ? 'рдореИрдВ рдпрд╣рд╛рдБ рдЖрдкрдХреА рдорджрдж рдХреЗ рд▓рд┐рдП рд╣реВрдБ!' 
                : language === 'mr' ? 'рдореА рддреБрдордЪреНрдпрд╛ рдорджрддреАрд╕рд╛рдареА рдпреЗрдереЗ рдЖрд╣реЗ!'
                : 'I\'m here to help you shine!'} тнР
          </p>
        </div>
      </div>
    </div>
  );
}